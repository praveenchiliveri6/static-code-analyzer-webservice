/*
 * The copyright of this file belongs to Koninklijke Philips N.V., 2019.
 */
package com.trg.boot.service;

import java.io.IOException;
import java.util.Map;
import org.springframework.stereotype.Service;

@Service
public class CodeDuplicateService {
  String simianjarPath = "C:\\Users\\320065909\\Downloads\\bin";

  public void reportDuplicate() throws IOException, InterruptedException {
    final String command[] = {"cmd", "/c", "java", "-jar", "simian-2.5.10.jar",
        "-threshold=3","-formatter=xml",">","C:\\Users\\320065909\\Desktop\\report.xml",
    "C:\\Users\\320065909\\eclipse-workspace\\CaseStudyStaticTools\\*.java"};

    final ProcessBuilder pb = new ProcessBuilder(command);
    final Map<String, String> envMap = pb.environment();
    String path = envMap.get("Path");
    path += simianjarPath;
    envMap.put("Path", path);
    final Process p = pb.start();
    p.waitFor();
    System.out.println(p.exitValue());




  }


}
